{% extends "base.html" %}

{% block title %}TCG Pocket Collection{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2 class="mb-4">Collection Sets</h2>

    <!-- Sets List - Compact Layout -->
    <div class="row">
        {% for set in sets %}
        <div class="col-lg-3 col-md-4 col-sm-6 col-12 mb-3">
            <a href="/set/{{ set.code }}" class="text-decoration-none">
                <div class="card h-100 set-card-compact">
                    <!-- Icona Set PICCOLA - Non scalata -->
                    <div class="set-icon-container">
                        <img src="/tcg_images/{{ set.code }}/cover.png" 
                             alt="{{ set.name }}" 
                             class="set-icon-small"
                             onerror="this.style.display='none'">
                    </div>
                    
                    <div class="card-body p-3">
                        <h6 class="card-title mb-2">{{ set.name }}</h6>
                        <small class="text-muted d-block">{{ set.code }}</small>
                        <small class="text-muted d-block">{{ set.release_date }}</small>
                        <small class="text-muted d-block mb-2">{{ set.total_cards }} Cards</small>
                        
                        <div class="mt-2">
                            <span class="badge bg-primary">{{ set.owned }}/{{ set.total_cards }}</span>
                            <span class="badge bg-success">{{ set.completion }}%</span>
                        </div>
                    </div>
                </div>
            </a>
        </div>
        {% endfor %}
    </div>

    {% if not sets %}
    <div class="alert alert-info">
        No sets found. Start scraping to add cards!
    </div>
    {% endif %}
</div>

<style>
/* Container icona - Background neutro */
.set-icon-container {
    width: 100%;
    height: 140px;
    background-color: #16213ef2;
    display: flex;
    align-items: center;
    justify-content: center;
    border-bottom: 1px solid #e0e0e0;
    overflow: hidden;
}

/* Icona piccola - NOT SCALED */
.set-icon-small {
    width: 80px;
    height: auto;
    object-fit: contain;
}

/* Card compatto */
.set-card-compact {
    transition: transform 0.2s, box-shadow 0.2s;
    border: 1px solid #e0e0e0;
}

.set-card-compact:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

/* Text sizing */
.card-title {
    font-size: 14px;
    font-weight: 600;
}

.card-body small {
    font-size: 12px;
}
</style>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}
